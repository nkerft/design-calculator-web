{"ast":null,"code":"// Базовые ставки для разных типов работ (в рублях)\nconst BASE_RATES = {\n  presentation: 5000,\n  website_design: 15000,\n  logo: 8000,\n  branding: 25000,\n  social_media: 3000,\n  print: 4000,\n  illustration: 6000,\n  ui_ux: 20000\n};\n\n// Коэффициенты для дизайнеров\nconst DESIGNER_MULTIPLIERS = {\n  senior: 1.5,\n  middle: 1.2,\n  junior: 0.8,\n  freelancer: 0.9\n};\n\n// Коэффициенты для регионов\nconst REGION_MULTIPLIERS = {\n  moscow: 1.3,\n  spb: 1.2,\n  central: 1.0,\n  siberia: 0.9,\n  far_east: 0.8,\n  international: 1.5\n};\n\n// Коэффициенты для источников\nconst SOURCE_MULTIPLIERS = {\n  website: 1.0,\n  social: 0.95,\n  referral: 0.9,\n  advertising: 1.1,\n  other: 1.0\n};\n\n// Коэффициент срочности\nconst URGENCY_MULTIPLIER = 1.3;\n\n// Коэффициент количества элементов\nconst ELEMENTS_MULTIPLIER = 0.1; // +10% за каждый элемент\n\n// Маржа ВиТрио (коэффициент)\nconst COMPANY_MARGIN = 1.4;\nexport function calculateProjectCost(form) {\n  // Базовая стоимость за тип работы\n  const baseRate = BASE_RATES[form.workType] || 5000;\n\n  // Применяем коэффициенты\n  const designerMultiplier = DESIGNER_MULTIPLIERS[form.designer] || 1.0;\n  const regionMultiplier = REGION_MULTIPLIERS[form.region] || 1.0;\n  const sourceMultiplier = SOURCE_MULTIPLIERS[form.source] || 1.0;\n\n  // Коэффициент срочности\n  const urgencyMultiplier = form.isUrgent ? URGENCY_MULTIPLIER : 1.0;\n\n  // Коэффициент количества элементов\n  const elementsMultiplier = 1 + form.elementsCount * ELEMENTS_MULTIPLIER;\n\n  // Рассчитываем стоимость работы дизайнера\n  const designerPrice = Math.round(baseRate * designerMultiplier * regionMultiplier * sourceMultiplier * urgencyMultiplier * elementsMultiplier);\n\n  // Рассчитываем стоимость для клиента (с маржей компании)\n  const clientPrice = Math.round(designerPrice * COMPANY_MARGIN);\n  return {\n    clientPrice,\n    designerPrice\n  };\n}\n\n// Функция для форматирования цены\nexport function formatPrice(price) {\n  return new Intl.NumberFormat('ru-RU', {\n    style: 'currency',\n    currency: 'RUB',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(price);\n}","map":{"version":3,"names":["BASE_RATES","presentation","website_design","logo","branding","social_media","print","illustration","ui_ux","DESIGNER_MULTIPLIERS","senior","middle","junior","freelancer","REGION_MULTIPLIERS","moscow","spb","central","siberia","far_east","international","SOURCE_MULTIPLIERS","website","social","referral","advertising","other","URGENCY_MULTIPLIER","ELEMENTS_MULTIPLIER","COMPANY_MARGIN","calculateProjectCost","form","baseRate","workType","designerMultiplier","designer","regionMultiplier","region","sourceMultiplier","source","urgencyMultiplier","isUrgent","elementsMultiplier","elementsCount","designerPrice","Math","round","clientPrice","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format"],"sources":["/Users/n1kozavr/design-calculator/src/calculator.ts"],"sourcesContent":["import { ProjectForm, CalculationResult } from './types';\n\n// Базовые ставки для разных типов работ (в рублях)\nconst BASE_RATES = {\n  presentation: 5000,\n  website_design: 15000,\n  logo: 8000,\n  branding: 25000,\n  social_media: 3000,\n  print: 4000,\n  illustration: 6000,\n  ui_ux: 20000\n};\n\n// Коэффициенты для дизайнеров\nconst DESIGNER_MULTIPLIERS = {\n  senior: 1.5,\n  middle: 1.2,\n  junior: 0.8,\n  freelancer: 0.9\n};\n\n// Коэффициенты для регионов\nconst REGION_MULTIPLIERS = {\n  moscow: 1.3,\n  spb: 1.2,\n  central: 1.0,\n  siberia: 0.9,\n  far_east: 0.8,\n  international: 1.5\n};\n\n// Коэффициенты для источников\nconst SOURCE_MULTIPLIERS = {\n  website: 1.0,\n  social: 0.95,\n  referral: 0.9,\n  advertising: 1.1,\n  other: 1.0\n};\n\n// Коэффициент срочности\nconst URGENCY_MULTIPLIER = 1.3;\n\n// Коэффициент количества элементов\nconst ELEMENTS_MULTIPLIER = 0.1; // +10% за каждый элемент\n\n// Маржа ВиТрио (коэффициент)\nconst COMPANY_MARGIN = 1.4;\n\nexport function calculateProjectCost(form: ProjectForm): CalculationResult {\n  // Базовая стоимость за тип работы\n  const baseRate = BASE_RATES[form.workType as keyof typeof BASE_RATES] || 5000;\n  \n  // Применяем коэффициенты\n  const designerMultiplier = DESIGNER_MULTIPLIERS[form.designer as keyof typeof DESIGNER_MULTIPLIERS] || 1.0;\n  const regionMultiplier = REGION_MULTIPLIERS[form.region as keyof typeof REGION_MULTIPLIERS] || 1.0;\n  const sourceMultiplier = SOURCE_MULTIPLIERS[form.source as keyof typeof SOURCE_MULTIPLIERS] || 1.0;\n  \n  // Коэффициент срочности\n  const urgencyMultiplier = form.isUrgent ? URGENCY_MULTIPLIER : 1.0;\n  \n  // Коэффициент количества элементов\n  const elementsMultiplier = 1 + (form.elementsCount * ELEMENTS_MULTIPLIER);\n  \n  // Рассчитываем стоимость работы дизайнера\n  const designerPrice = Math.round(\n    baseRate * \n    designerMultiplier * \n    regionMultiplier * \n    sourceMultiplier * \n    urgencyMultiplier * \n    elementsMultiplier\n  );\n  \n  // Рассчитываем стоимость для клиента (с маржей компании)\n  const clientPrice = Math.round(designerPrice * COMPANY_MARGIN);\n  \n  return {\n    clientPrice,\n    designerPrice\n  };\n}\n\n// Функция для форматирования цены\nexport function formatPrice(price: number): string {\n  return new Intl.NumberFormat('ru-RU', {\n    style: 'currency',\n    currency: 'RUB',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(price);\n}\n"],"mappings":"AAEA;AACA,MAAMA,UAAU,GAAG;EACjBC,YAAY,EAAE,IAAI;EAClBC,cAAc,EAAE,KAAK;EACrBC,IAAI,EAAE,IAAI;EACVC,QAAQ,EAAE,KAAK;EACfC,YAAY,EAAE,IAAI;EAClBC,KAAK,EAAE,IAAI;EACXC,YAAY,EAAE,IAAI;EAClBC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMC,oBAAoB,GAAG;EAC3BC,MAAM,EAAE,GAAG;EACXC,MAAM,EAAE,GAAG;EACXC,MAAM,EAAE,GAAG;EACXC,UAAU,EAAE;AACd,CAAC;;AAED;AACA,MAAMC,kBAAkB,GAAG;EACzBC,MAAM,EAAE,GAAG;EACXC,GAAG,EAAE,GAAG;EACRC,OAAO,EAAE,GAAG;EACZC,OAAO,EAAE,GAAG;EACZC,QAAQ,EAAE,GAAG;EACbC,aAAa,EAAE;AACjB,CAAC;;AAED;AACA,MAAMC,kBAAkB,GAAG;EACzBC,OAAO,EAAE,GAAG;EACZC,MAAM,EAAE,IAAI;EACZC,QAAQ,EAAE,GAAG;EACbC,WAAW,EAAE,GAAG;EAChBC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMC,kBAAkB,GAAG,GAAG;;AAE9B;AACA,MAAMC,mBAAmB,GAAG,GAAG,CAAC,CAAC;;AAEjC;AACA,MAAMC,cAAc,GAAG,GAAG;AAE1B,OAAO,SAASC,oBAAoBA,CAACC,IAAiB,EAAqB;EACzE;EACA,MAAMC,QAAQ,GAAGhC,UAAU,CAAC+B,IAAI,CAACE,QAAQ,CAA4B,IAAI,IAAI;;EAE7E;EACA,MAAMC,kBAAkB,GAAGzB,oBAAoB,CAACsB,IAAI,CAACI,QAAQ,CAAsC,IAAI,GAAG;EAC1G,MAAMC,gBAAgB,GAAGtB,kBAAkB,CAACiB,IAAI,CAACM,MAAM,CAAoC,IAAI,GAAG;EAClG,MAAMC,gBAAgB,GAAGjB,kBAAkB,CAACU,IAAI,CAACQ,MAAM,CAAoC,IAAI,GAAG;;EAElG;EACA,MAAMC,iBAAiB,GAAGT,IAAI,CAACU,QAAQ,GAAGd,kBAAkB,GAAG,GAAG;;EAElE;EACA,MAAMe,kBAAkB,GAAG,CAAC,GAAIX,IAAI,CAACY,aAAa,GAAGf,mBAAoB;;EAEzE;EACA,MAAMgB,aAAa,GAAGC,IAAI,CAACC,KAAK,CAC9Bd,QAAQ,GACRE,kBAAkB,GAClBE,gBAAgB,GAChBE,gBAAgB,GAChBE,iBAAiB,GACjBE,kBACF,CAAC;;EAED;EACA,MAAMK,WAAW,GAAGF,IAAI,CAACC,KAAK,CAACF,aAAa,GAAGf,cAAc,CAAC;EAE9D,OAAO;IACLkB,WAAW;IACXH;EACF,CAAC;AACH;;AAEA;AACA,OAAO,SAASI,WAAWA,CAACC,KAAa,EAAU;EACjD,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;IACpCC,KAAK,EAAE,UAAU;IACjBC,QAAQ,EAAE,KAAK;IACfC,qBAAqB,EAAE,CAAC;IACxBC,qBAAqB,EAAE;EACzB,CAAC,CAAC,CAACC,MAAM,CAACP,KAAK,CAAC;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}